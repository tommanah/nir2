<!doctype HTML>
<html>
<head>
    <title>WebAR без маркеров</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
        AFRAME.registerComponent('place-object', {
            init: function () {
                const el = this.el;

                // Обработчик события клика
                el.sceneEl.addEventListener('click', function (event) {
                    // Создаем новый объект
                    const box = document.createElement('a-box');
                    box.setAttribute('position', '0 0.5 0');
                    box.setAttribute('material', 'color: red;');
                    box.setAttribute('scale', '0.5 0.5 0.5');

                    // Получаем позицию клика в мире
                    const intersection = event.detail.intersection;
                    if (intersection) {
                        // Устанавливаем позицию объекта на место клика
                        box.setAttribute('position', intersection.point);
                        el.sceneEl.appendChild(box);
                    }
                });
            }
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <a-scene embedded arjs='sourceType: webcam;'>
        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>